
# Virtual Host configuration for example.com
#
# You can move that to a different file under sites-available/ and symlink that
# to sites-enabled/ to enable it.
#
server {

	listen 2087;

	root /var/www/html/;

	# Redirection vers les flux de france TV
	location /francetv/live-ssai/ {
		proxy_set_header User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36";
		proxy_set_header Referer "https://www.france.tv/";
		proxy_set_header Origin "https://www.france.tv";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://live-ssai.ftven.fr/;
		#proxy_pass http://51.15.101.76:8080/;
	}

	# Redirection vers les flux de france TV
	location /francetv/simulcast-p/ {
		#proxy_set_header User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36";
		proxy_set_header Referer "https://www.france.tv/";
		proxy_set_header Origin "https://www.france.tv";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://simulcast-p.ftven.fr/;
	}

	# Redirection des flux vers TF1
	location /tf1/ {
		proxy_set_header User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36";
		proxy_set_header Referer "https://prod-player.tf1.fr/";
		proxy_set_header Origin "https://prod-player.tf1.fr";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://live-tf1-das.cdn-0.diff.tf1.fr/;
	}

	# Redirection des flux vers TMC
	location /tmc/ {
		proxy_set_header User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36";
		proxy_set_header Referer "https://prod-player.tf1.fr/";
		proxy_set_header Origin "https://prod-player.tf1.fr";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://live-tmc-das.cdn-0.diff.tf1.fr/;
	}

	# Redirection des flux vers TXF
	location /tfx/ {
		proxy_set_header User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36";
		proxy_set_header Referer "https://prod-player.tf1.fr/";
		proxy_set_header Origin "https://prod-player.tf1.fr";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://live-tfx-das.cdn-0.diff.tf1.fr/;
	}

	# Redirection des flux vers LCI
	location /lci/ {
		proxy_set_header User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36";
		proxy_set_header Referer "https://prod-player.tf1.fr/";
		proxy_set_header Origin "https://prod-player.tf1.fr";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://live-lci-das.cdn-0.diff.tf1.fr/;
	}

	# Redirection des flux vers TF1SF
	location /tsf/ {
		proxy_set_header User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36";
		proxy_set_header Referer "https://prod-player.tf1.fr/";
		proxy_set_header Origin "https://prod-player.tf1.fr";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://live-tsf-das.cdn-0.diff.tf1.fr/;
	}

	# Les flux pour eurosport
	location /eurosport/eurosport-live-prod/ {
		proxy_set_header User-Agent "AppleCoreMedia/1.0.0.21D61 (iPhone; U; CPU OS 17_3_1 like Mac OS X; fr_fr)";
		proxy_set_header Referer "";
		proxy_set_header Origin "";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://eurosport-live-prod.akamai.prod-live.h264.io/;
	}

	# Les flux pour eurosport
	location /eurosport/dplus-eu-cloudfront/ {
		proxy_set_header User-Agent "AppleCoreMedia/1.0.0.21D61 (iPhone; U; CPU OS 17_3_1 like Mac OS X; fr_fr)";
		proxy_set_header Referer "";
		proxy_set_header Origin "";
		proxy_set_header Cookie "";
		proxy_set_header cf-connecting-ip "";
		proxy_set_header x-forwarded-for "";
		proxy_set_header cf-ipcountry "";
		proxy_set_header cf-ray "";
		proxy_set_header cf-visitor "";
		proxy_set_header cdn-loop "";
		proxy_set_header sec-fetch-site "";
		proxy_set_header sec-fetch-mode "";
		proxy_set_header sec-fetch-dest "";
		proxy_set_header sec-fetch-user "";
		proxy_set_header sec-ch-ua "";
		proxy_set_header sec-ch-ua-mobile "";
		proxy_set_header sec-ch-ua-platform "";
		proxy_set_header x-forwarded-proto "";
		proxy_pass https://dplus-eu-cloudfront.prod-live.h264.io/;
	}

}